SecurityConfig {

	
	@Bean
	public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
		http
			.authorizeHttpRequests((requests) -> requests
				.requestMatchers("/","listUser", "/inscription").permitAll()
				.anyRequest().authenticated()
			)
			.formLogin((form) -> form
				.loginPage("/inscription")
				.permitAll()
			)
			.logout((logout) -> logout.permitAll());

		return http.build();
	}

	
	  @Bean public UserDetailsService userDetailsService() { UserDetails user =
	  User.withDefaultPasswordEncoder() .username("user") .password("password")
	  .roles("USER") .build();
	  
	  return new InMemoryUserDetailsManager(user); }
	 